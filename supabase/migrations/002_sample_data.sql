-- 샘플 데이터 삽입
-- 개발 및 테스트용 데이터

-- 1. 테스트 사용자 생성
-- 비밀번호는 모두 'test123'을 bcrypt로 해시한 값
INSERT INTO users (id, email, password_hash, name, phone, role) VALUES
  ('550e8400-e29b-41d4-a716-446655440001', 'customer1@test.com', '$2b$10$rOzJqQZJqQZJqQZJqQZJqOzJqQZJqQZJqQZJqQZJqQZJqQZJqQZJq', '김고객', '010-1234-5678', 'customer'),
  ('550e8400-e29b-41d4-a716-446655440002', 'customer2@test.com', '$2b$10$rOzJqQZJqQZJqQZJqQZJqOzJqQZJqQZJqQZJqQZJqQZJqQZJqQZJq', '이고객', '010-2345-6789', 'customer'),
  ('550e8400-e29b-41d4-a716-446655440003', 'owner1@test.com', '$2b$10$rOzJqQZJqQZJqQZJqQZJqOzJqQZJqQZJqQZJqQZJqQZJqQZJqQZJq', '박점주', '010-3456-7890', 'owner'),
  ('550e8400-e29b-41d4-a716-446655440004', 'owner2@test.com', '$2b$10$rOzJqQZJqQZJqQZJqQZJqOzJqQZJqQZJqQZJqQZJqQZJqQZJqQZJq', '최점주', '010-4567-8901', 'owner'),
  ('550e8400-e29b-41d4-a716-446655440005', 'admin@ourgs.com', '$2b$10$rOzJqQZJqQZJqQZJqQZJqOzJqQZJqQZJqQZJqQZJqQZJqQZJqQZJq', '관리자', '010-5678-9012', 'admin');

-- 2. 테스트 편의점 생성
INSERT INTO stores (id, owner_id, name, description, address, phone, business_hours, status) VALUES
  ('660e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440003', 'GS25 강남점', '강남역 근처 편의점', '서울시 강남구 강남대로 123', '02-1234-5678', 
   '{"monday": {"open": "06:00", "close": "24:00"}, "tuesday": {"open": "06:00", "close": "24:00"}, "wednesday": {"open": "06:00", "close": "24:00"}, "thursday": {"open": "06:00", "close": "24:00"}, "friday": {"open": "06:00", "close": "24:00"}, "saturday": {"open": "06:00", "close": "24:00"}, "sunday": {"open": "06:00", "close": "24:00"}}', 
   'approved'),
  ('660e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440004', 'GS25 홍대점', '홍대입구역 근처 편의점', '서울시 마포구 홍익로 456', '02-2345-6789',
   '{"monday": {"open": "07:00", "close": "23:00"}, "tuesday": {"open": "07:00", "close": "23:00"}, "wednesday": {"open": "07:00", "close": "23:00"}, "thursday": {"open": "07:00", "close": "23:00"}, "friday": {"open": "07:00", "close": "24:00"}, "saturday": {"open": "07:00", "close": "24:00"}, "sunday": {"open": "07:00", "close": "23:00"}}',
   'approved');

-- 3. 상품 카테고리별 샘플 데이터
INSERT INTO products (id, name, description, category, barcode, brand, base_price, image_url) VALUES
  -- 음료
  ('770e8400-e29b-41d4-a716-446655440001', '코카콜라 350ml', '시원한 콜라', '음료', '8801094001234', '코카콜라', 1500.00, '/images/products/coke.jpg'),
  ('770e8400-e29b-41d4-a716-446655440002', '삼다수 500ml', '제주 삼다수', '음료', '8801094001235', '제주삼다수', 800.00, '/images/products/samdasoo.jpg'),
  ('770e8400-e29b-41d4-a716-446655440003', '맥심 커피믹스', '달콤한 커피믹스', '음료', '8801094001236', '맥심', 3500.00, '/images/products/maxim.jpg'),
  
  -- 과자
  ('770e8400-e29b-41d4-a716-446655440004', '새우깡', '바삭한 새우맛 과자', '과자', '8801094001237', '농심', 2000.00, '/images/products/saewookkang.jpg'),
  ('770e8400-e29b-41d4-a716-446655440005', '포테토칩', '감자칩', '과자', '8801094001238', '오리온', 2500.00, '/images/products/potato.jpg'),
  ('770e8400-e29b-41d4-a716-446655440006', '초코파이', '달콤한 초코파이', '과자', '8801094001239', '오리온', 3000.00, '/images/products/choco.jpg'),
  
  -- 라면
  ('770e8400-e29b-41d4-a716-446655440007', '신라면', '매운 라면', '라면', '8801094001240', '농심', 1200.00, '/images/products/shin.jpg'),
  ('770e8400-e29b-41d4-a716-446655440008', '진라면', '순한 라면', '라면', '8801094001241', '오뚜기', 1100.00, '/images/products/jin.jpg'),
  
  -- 아이스크림
  ('770e8400-e29b-41d4-a716-446655440009', '하겐다즈 바닐라', '프리미엄 아이스크림', '아이스크림', '8801094001242', '하겐다즈', 8000.00, '/images/products/haagen.jpg'),
  ('770e8400-e29b-41d4-a716-446655440010', '메로나', '시원한 메론맛', '아이스크림', '8801094001243', '빙그레', 1500.00, '/images/products/melona.jpg'),
  
  -- 생활용품
  ('770e8400-e29b-41d4-a716-446655440011', '휴지 12롤', '부드러운 화장지', '생활용품', '8801094001244', '깨끗한나라', 12000.00, '/images/products/tissue.jpg'),
  ('770e8400-e29b-41d4-a716-446655440012', '세제 1L', '강력한 세탁세제', '생활용품', '8801094001245', 'P&G', 8500.00, '/images/products/detergent.jpg');

-- 4. 재고 데이터 (강남점)
INSERT INTO inventory (store_id, product_id, quantity, min_quantity, price) VALUES
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440001', 50, 10, 1500.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440002', 30, 10, 800.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440003', 20, 5, 3500.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440004', 25, 10, 2000.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440005', 15, 5, 2500.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440006', 20, 5, 3000.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440007', 40, 15, 1200.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440008', 35, 15, 1100.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440009', 10, 3, 8000.00),
  ('660e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440010', 25, 10, 1500.00);

-- 5. 재고 데이터 (홍대점)
INSERT INTO inventory (store_id, product_id, quantity, min_quantity, price) VALUES
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440001', 40, 10, 1500.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440002', 25, 10, 800.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440004', 30, 10, 2000.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440005', 20, 5, 2500.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440007', 50, 15, 1200.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440008', 45, 15, 1100.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440010', 30, 10, 1500.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440011', 8, 5, 12000.00),
  ('660e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440012', 6, 3, 8500.00);

-- 6. 샘플 쿠폰 데이터
INSERT INTO coupons (store_id, name, description, discount_type, discount_value, min_order_amount, valid_from, valid_until, usage_limit) VALUES
  ('660e8400-e29b-41d4-a716-446655440001', '신규고객 10% 할인', '첫 주문 고객 대상 10% 할인', 'percentage', 10.00, 10000.00, NOW(), NOW() + INTERVAL '30 days', 100),
  ('660e8400-e29b-41d4-a716-446655440001', '3만원 이상 5천원 할인', '3만원 이상 주문시 5천원 할인', 'fixed', 5000.00, 30000.00, NOW(), NOW() + INTERVAL '7 days', 50),
  ('660e8400-e29b-41d4-a716-446655440002', '홍대점 오픈 기념 15% 할인', '홍대점 오픈 기념 할인', 'percentage', 15.00, 5000.00, NOW(), NOW() + INTERVAL '14 days', 200);

-- 7. 샘플 주문 데이터 (테스트용)
INSERT INTO orders (id, customer_id, store_id, order_number, status, order_type, total_amount, discount_amount, final_amount, pickup_time) VALUES
  ('880e8400-e29b-41d4-a716-446655440001', '550e8400-e29b-41d4-a716-446655440001', '660e8400-e29b-41d4-a716-446655440001', 'ORD-20250108-001', 'completed', 'pickup', 8500.00, 0.00, 8500.00, NOW() - INTERVAL '2 hours'),
  ('880e8400-e29b-41d4-a716-446655440002', '550e8400-e29b-41d4-a716-446655440002', '660e8400-e29b-41d4-a716-446655440002', 'ORD-20250108-002', 'preparing', 'delivery', 15000.00, 1500.00, 13500.00, NOW() + INTERVAL '30 minutes');

-- 8. 주문 상품 데이터
INSERT INTO order_items (order_id, product_id, quantity, unit_price, total_price) VALUES
  ('880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440001', 2, 1500.00, 3000.00),
  ('880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440004', 1, 2000.00, 2000.00),
  ('880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440006', 1, 3000.00, 3000.00),
  ('880e8400-e29b-41d4-a716-446655440001', '770e8400-e29b-41d4-a716-446655440002', 1, 800.00, 800.00),
  
  ('880e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440007', 3, 1200.00, 3600.00),
  ('880e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440008', 2, 1100.00, 2200.00),
  ('880e8400-e29b-41d4-a716-446655440002', '770e8400-e29b-41d4-a716-446655440011', 1, 12000.00, 12000.00);

-- 9. 결제 데이터
INSERT INTO payments (order_id, payment_key, amount, method, status, approved_at) VALUES
  ('880e8400-e29b-41d4-a716-446655440001', 'test_payment_key_001', 8500.00, 'card', 'completed', NOW() - INTERVAL '2 hours'),
  ('880e8400-e29b-41d4-a716-446655440002', 'test_payment_key_002', 13500.00, 'card', 'completed', NOW() - INTERVAL '30 minutes');

-- 10. 알림 데이터
INSERT INTO notifications (user_id, title, message, type, related_id) VALUES
  ('550e8400-e29b-41d4-a716-446655440001', '주문 완료', '주문이 성공적으로 완료되었습니다.', 'order', '880e8400-e29b-41d4-a716-446655440001'),
  ('550e8400-e29b-41d4-a716-446655440003', '새로운 주문', '새로운 주문이 접수되었습니다.', 'order', '880e8400-e29b-41d4-a716-446655440002'),
  ('550e8400-e29b-41d4-a716-446655440002', '주문 준비중', '주문하신 상품을 준비중입니다.', 'order', '880e8400-e29b-41d4-a716-446655440002');